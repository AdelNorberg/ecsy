!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,function(){var o=e.ECSY,n=e.ECSY={};t(n),n.noConflict=function(){return e.ECSY=o,n}}())}(this,(function(exports){"use strict";class SystemManager{constructor(e){this._systems=[],this._executeSystems=[],this.world=e,this.lastExecutedSystem=null}registerSystem(e,t){if(void 0!==this._systems.find(t=>t.constructor.name===e.name))return console.warn(`System '${e.name}' already registered.`),this;var o=new e(this.world,t);return o.init&&o.init(),o.order=this._systems.length,this._systems.push(o),o.execute&&(this._executeSystems.push(o),this.sortSystems()),this}sortSystems(){this._executeSystems.sort((e,t)=>e.priority-t.priority||e.order-t.order)}getSystem(e){return this._systems.find(t=>t instanceof e)}getSystems(){return this._systems}removeSystem(e){var t=this._systems.indexOf(e);~t&&this._systems.splice(t,1)}executeSystem(e,t,o){if(e.initialized&&e.canExecute()){let n=performance.now();e.execute(t,o),e.executeTime=performance.now()-n,this.lastExecutedSystem=e,e.clearEvents()}}stop(){this._executeSystems.forEach(e=>e.stop())}execute(e,t,o){this._executeSystems.forEach(n=>(o||n.enabled)&&this.executeSystem(n,e,t))}stats(){for(var e={numSystems:this._systems.length,systems:{}},t=0;t<this._systems.length;t++){var o=this._systems[t],n=e.systems[o.constructor.name]={queries:{}};for(var s in o.ctx)n.queries[s]=o.ctx[s].stats()}return e}}const Version="0.2.2";class EventDispatcher{constructor(){this._listeners={},this.stats={fired:0,handled:0}}addEventListener(e,t){let o=this._listeners;void 0===o[e]&&(o[e]=[]),-1===o[e].indexOf(t)&&o[e].push(t)}hasEventListener(e,t){return void 0!==this._listeners[e]&&-1!==this._listeners[e].indexOf(t)}removeEventListener(e,t){var o=this._listeners[e];if(void 0!==o){var n=o.indexOf(t);-1!==n&&o.splice(n,1)}}dispatchEvent(e,t,o){this.stats.fired++;var n=this._listeners[e];if(void 0!==n)for(var s=n.slice(0),i=0;i<s.length;i++)s[i].call(this,t,o)}resetCounters(){this.stats.fired=this.stats.handled=0}}function queryKey(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];if("object"==typeof n){var s="not"===n.operator?"!":n.operator;t.push(s+n.Component.name)}else t.push(n.name)}return t.sort().join("-")}let _lut=[];for(let e=0;e<256;e++)_lut[e]=(e<16?"0":"")+e.toString(16);function generateUUID(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,o=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(_lut[255&e]+_lut[e>>8&255]+_lut[e>>16&255]+_lut[e>>24&255]+"-"+_lut[255&t]+_lut[t>>8&255]+"-"+_lut[t>>16&15|64]+_lut[t>>24&255]+"-"+_lut[63&o|128]+_lut[o>>8&255]+"-"+_lut[o>>16&255]+_lut[o>>24&255]+_lut[255&n]+_lut[n>>8&255]+_lut[n>>16&255]+_lut[n>>24&255]).toUpperCase()}class Query{constructor(e,t){if(this.Components=[],this.NotComponents=[],e.forEach(e=>{"object"==typeof e?this.NotComponents.push(e.Component):this.Components.push(e)}),0===this.Components.length)throw new Error("Can't create a query without components");this.entities=[],this.eventDispatcher=new EventDispatcher,this.reactive=!1,this.key=queryKey(e);for(var o=0;o<t.entities.length;o++){var n=t.entities[o];this.match(n)&&(n.queries.push(this),this.entities.push(n))}}addEntity(e){e.queries.push(this),this.entities.push(e),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_ADDED,e)}removeEntity(e){let t=this.entities.indexOf(e);~t&&(this.entities.splice(t,1),t=e.queries.indexOf(this),e.queries.splice(t,1),this.eventDispatcher.dispatchEvent(Query.prototype.ENTITY_REMOVED,e))}match(e){return e.hasAllComponents(this.Components)&&!e.hasAnyComponents(this.NotComponents)}toJSON(){return{key:this.key,reactive:this.reactive,components:{included:this.Components.map(e=>e.name),not:this.NotComponents.map(e=>e.name)},numEntities:this.entities.length}}stats(){return{numComponents:this.Components.length,numEntities:this.entities.length}}}Query.prototype.ENTITY_ADDED="Query#ENTITY_ADDED",Query.prototype.ENTITY_REMOVED="Query#ENTITY_REMOVED",Query.prototype.COMPONENT_CHANGED="Query#COMPONENT_CHANGED";const proxyMap=new WeakMap,proxyHandler={set(e,t){throw new Error(`Tried to write to "${e.constructor.name}#${String(t)}" on immutable component. Use .getMutableComponent() to modify a component.`)}};function wrapImmutableComponent(e,t){if(void 0===t)return;let o=proxyMap.get(t);return o||(o=new Proxy(t,proxyHandler),proxyMap.set(t,o)),o}class Entity{constructor(e){this.world=e,this.uuid=generateUUID(),this.componentTypes=[],this.components={},this._componentsToRemove={},this.queries=[],this._componentTypesToRemove=[],this.alive=!1,this._numSystemStateComponents=0}getComponent(e,t){var o=this.components[e.name];return o||!0!==t||(o=this._componentsToRemove[e.name]),o}getRemovedComponent(e){return this._componentsToRemove[e.name]}getComponents(){return this.components}getComponentsToRemove(){return this._componentsToRemove}getComponentTypes(){return this.componentTypes}getMutableComponent(e){var t=this.components[e.name];if(this.alive)for(var o=0;o<this.queries.length;o++){var n=this.queries[o];n.reactive&&-1!==n.Components.indexOf(e)&&n.eventDispatcher.dispatchEvent(Query.prototype.COMPONENT_CHANGED,this,t)}return t}addComponent(e,t){if(!~this.componentTypes.indexOf(e)){this.componentTypes.push(e),e.isSystemStateComponent&&this._numSystemStateComponents++;var o=this.world.getComponentPool(e),n=void 0===o?new e(t):o.acquire();return o&&t&&n.copy(t),this.components[e.name]=n,this.alive&&this.world.onComponentAdded(this,e),this}}hasComponent(e,t){return!!~this.componentTypes.indexOf(e)||!0===t&&this.hasRemovedComponent(e)}hasRemovedComponent(e){return!!~this._componentTypesToRemove.indexOf(e)}hasAllComponents(e){for(var t=0;t<e.length;t++)if(!this.hasComponent(e[t]))return!1;return!0}hasAnyComponents(e){for(var t=0;t<e.length;t++)if(this.hasComponent(e[t]))return!0;return!1}removeComponent(e,t){const o=e.name;if(!this._componentsToRemove[o]){delete this.components[o];const t=this.componentTypes.indexOf(e);this.componentTypes.splice(t,1),this.alive&&this.world.onRemoveComponent(this,e)}const n=this.components[o];if(t){if(n&&n.dispose(),this._componentsToRemove[o]){delete this._componentsToRemove[o];const t=this._componentTypesToRemove.indexOf(e);-1!==t&&this._componentTypesToRemove.splice(t,1)}}else this.alive&&(this._componentTypesToRemove.push(e),this._componentsToRemove[o]=n,this.world.queueComponentRemoval(this,e));return e.isSystemStateComponent&&(this._numSystemStateComponents--,0!==this._numSystemStateComponents||this.alive||this.dispose()),!0}processRemovedComponents(){for(;this._componentTypesToRemove.length>0;){let e=this._componentTypesToRemove.pop();this.removeComponent(e,!0)}}removeAllComponents(e){let t=this.componentTypes;for(let o=t.length-1;o>=0;o--)this.removeComponent(t[o],e)}copy(e){for(const t in e.components){const o=e.components[t];this.components[t]=o.clone(),this.componentTypes.push(o.constructor)}return this}clone(){return new this.constructor(this.world).copy(this)}dispose(e){if(this.alive&&this.world.onDisposeEntity(this),e){this.uuid=generateUUID(),this.alive=!0;for(let e=0;e<this.queries.length;e++)this.queries[e].removeEntity(this);for(const e in this.components)this.components[e].dispose(),delete this.components[e];for(const e in this._componentsToRemove)delete this._componentsToRemove[e];this.queries.length=0,this.componentTypes.length=0,this._componentTypesToRemove.length=0,this._pool&&this._pool.release(this),this.world.onEntityDisposed(this)}else this.alive=!1,this.world.queueEntityDisposal(this)}}class ObjectPool{constructor(e,t){this.freeList=[],this.count=0,this.baseObject=e,this.isObjectPool=!0,void 0!==t&&this.expand(t)}acquire(){return this.freeList.length<=0&&this.expand(Math.round(.2*this.count)+1),this.freeList.pop()}release(e){e.copy(this.baseObject),this.freeList.push(e)}expand(e){for(var t=0;t<e;t++){const e=this.baseObject.clone();e._pool=this,this.freeList.push(e)}this.count+=e}totalSize(){return this.count}totalFree(){return this.freeList.length}totalUsed(){return this.count-this.freeList.length}}class World{constructor(){if(this.systemManager=new SystemManager(this),this.entityPool=new ObjectPool(new Entity(this)),this.entities=[],this.entitiesByUUID={},this.entitiesWithComponentsToRemove=[],this.entitiesToRemove=[],this.deferredRemovalEnabled=!0,this.componentTypes={},this.componentPools={},this.componentCounts={},this.queries={},this.enabled=!0,"undefined"!=typeof CustomEvent){var e=new CustomEvent("ecsy-world-created",{detail:{world:this,version:Version}});window.dispatchEvent(e)}this.lastTime=performance.now(),this.isWorld=!0}registerComponent(e,t){return this.componentTypes[e.name]?(console.warn(`Component type: '${e.name}' already registered.`),this):(this.componentTypes[e.name]=e,this.componentCounts[e.name]=0,!1===t?t=void 0:void 0===t&&(t=new ObjectPool(new e)),this.componentPools[e.name]=t,this)}registerSystem(e,t){return this.systemManager.registerSystem(e,t),this}createEntity(){const e=this.createDetachedEntity();return this.addEntity(e)}createDetachedEntity(){return this.entityPool.acquire()}addEntity(e){if(this.entitiesByUUID[e.uuid])return console.warn(`Entity ${e.uuid} already added.`),e;this.entitiesByUUID[e.uuid]=e,this.entities.push(e),e.alive=!0;for(let t=0;t<e.componentTypes.length;t++){const o=e.componentTypes[t];this.onComponentAdded(e,o)}return e}getEntityByUUID(e){return this.entitiesByUUID[e]}createComponent(e){const t=this.componentPools[e.name];return t?t.acquire():new e}getComponentPool(e){return this.componentPools[e.name]}getSystem(e){return this.systemManager.getSystem(e)}getSystems(){return this.systemManager.getSystems()}getQuery(e){const t=queryKey(e);let o=this.queries[t];return o||(this.queries[t]=o=new Query(e,this)),o}onComponentAdded(e,t){for(var o in this.componentTypes[t.name]||console.warn(`Component ${t.name} not registered.`),this.componentCounts[t.name]++,this.queries){var n=this.queries[o];~n.NotComponents.indexOf(t)&&~n.entities.indexOf(e)?n.removeEntity(e):~n.Components.indexOf(t)&&n.match(e)&&!~n.entities.indexOf(e)&&n.addEntity(e)}}onComponentChanged(e,t,o){for(var n=0;n<e.queries.length;n++){var s=e.queries[n];s.reactive&&-1!==s.Components.indexOf(t)&&s.eventDispatcher.dispatchEvent(Query.prototype.COMPONENT_CHANGED,e,o)}}queueComponentRemoval(e){-1===this.entitiesWithComponentsToRemove.indexOf(e)&&this.entitiesWithComponentsToRemove.push(e)}onRemoveComponent(e,t){for(var o in this.componentCounts[t.name]--,this.queries){var n=this.queries[o];~n.NotComponents.indexOf(t)&&!~n.entities.indexOf(e)&&n.match(e)?n.addEntity(e):~n.Components.indexOf(t)&&~n.entities.indexOf(e)&&!n.match(e)&&n.removeEntity(e)}}queueEntityDisposal(e){this.entitiesToRemove.push(e)}onDisposeEntity(e){for(var t in this.queries){const o=this.queries[t];-1!==e.queries.indexOf(o)&&o.removeEntity(e)}}onEntityDisposed(e){if(!this.entitiesByUUID[e.uuid])return;delete this.entitiesByUUID[e.uuid];const t=this.entities.indexOf(e);-1!==t&&this.entities.splice(t,1)}execute(e,t){if(!e){let t=performance.now();e=t-this.lastTime,this.lastTime=t}if(this.enabled){if(this.systemManager.execute(e,t),!this.deferredRemovalEnabled)return;for(let e=0;e<this.entitiesToRemove.length;e++){this.entitiesToRemove[e].dispose(!0)}this.entitiesToRemove.length=0;for(let e=0;e<this.entitiesWithComponentsToRemove.length;e++){this.entitiesWithComponentsToRemove[e].processRemovedComponents()}this.entitiesWithComponentsToRemove.length=0}}stop(){this.enabled=!1}play(){this.enabled=!0}stats(){var e={entities:{numEntities:this.entities.length,numQueries:Object.keys(this.queries).length,queries:{},numComponentPool:Object.keys(this.componentPools).length,componentPool:{}},system:this.systemManager.stats()};for(const t in this.queries)e.queries[t]=this.queries[t].stats();for(const t in this.componentPools){const o=this.componentPools[t];e.componentPool[t]={used:o.totalUsed(),size:o.count}}console.log(JSON.stringify(e,null,2))}}class System{canExecute(){if(0===this._mandatoryQueries.length)return!0;for(let e=0;e<this._mandatoryQueries.length;e++){if(0===this._mandatoryQueries[e].entities.length)return!1}return!0}constructor(e,t){if(this.world=e,this.enabled=!0,this._queries={},this.queries={},this.priority=0,this.executeTime=0,t&&t.priority&&(this.priority=t.priority),this._mandatoryQueries=[],this.initialized=!0,this.constructor.queries)for(var o in this.constructor.queries){var n=this.constructor.queries[o],s=n.components;if(!s||0===s.length)throw new Error("'components' attribute can't be empty in a query");var i=this.world.getQuery(s);this._queries[o]=i,!0===n.mandatory&&this._mandatoryQueries.push(i),this.queries[o]={results:i.entities};const e={added:Query.prototype.ENTITY_ADDED,removed:Query.prototype.ENTITY_REMOVED,changed:Query.prototype.COMPONENT_CHANGED};n.listen&&["added","removed","changed"].forEach(t=>{if(n.listen[t]){let s=n.listen[t];if("changed"===t){if(i.reactive=!0,!0===s){let e=this.queries[o][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,t=>{-1===e.indexOf(t)&&e.push(t)})}else if(Array.isArray(s)){let e=this.queries[o][t]=[];i.eventDispatcher.addEventListener(Query.prototype.COMPONENT_CHANGED,(t,o)=>{-1!==s.indexOf(o.constructor)&&-1===e.indexOf(t)&&e.push(t)})}}else{let n=this.queries[o][t]=[];i.eventDispatcher.addEventListener(e[t],e=>{-1===n.indexOf(e)&&n.push(e)})}}})}}stop(){this.executeTime=0,this.enabled=!1}play(){this.enabled=!0}clearEvents(){for(let t in this.queries){var e=this.queries[t];if(e.added&&(e.added.length=0),e.removed&&(e.removed.length=0),e.changed)if(Array.isArray(e.changed))e.changed.length=0;else for(let t in e.changed)e.changed[t].length=0}}toJSON(){var e={name:this.constructor.name,enabled:this.enabled,executeTime:this.executeTime,priority:this.priority,queries:{}};if(this.constructor.queries){var t=this.constructor.queries;for(let o in t){let n=this.queries[o],s=t[o],i=e.queries[o]={key:this._queries[o].key};if(i.mandatory=!0===s.mandatory,i.reactive=s.listen&&(!0===s.listen.added||!0===s.listen.removed||!0===s.listen.changed||Array.isArray(s.listen.changed)),i.reactive){i.listen={},["added","removed","changed"].forEach(e=>{n[e]&&(i.listen[e]={entities:n[e].length})})}}}return e}}function Not(e){return{operator:"not",Component:e}}class Component{constructor(e){const t=this.constructor.schema;for(const o in t){const n=t[o];if(e&&e.hasOwnProperty(o))this[o]=e[o];else if(n.hasOwnProperty("default"))this[o]=n.type.clone(n.default);else{const e=n.type;this[o]=e.clone(e.default)}}this._pool=null}copy(e){const t=this.constructor.schema;for(const o in e)if(t.hasOwnProperty(o)){t[o].type.copy(e,this,o)}return this}clone(){return(new this.constructor).copy(this)}dispose(){this._pool&&this._pool.release(this)}}Component.schema={},Component.isComponent=!0;class SystemStateComponent extends Component{constructor(e){super(e),this.isSystemStateComponent=!0}}SystemStateComponent.isSystemStateComponent=!0;class TagComponent extends Component{constructor(){super(),this.isTagComponent=!0}}TagComponent.isTagComponent=!0;const copyValue=(e,t,o)=>t[o]=e[o],cloneValue=e=>e,copyArray=(e,t,o)=>{const n=e[o],s=t[o];s.length=0;for(let e=0;e<n.length;e++)s.push(n[e]);return s},cloneArray=e=>e.slice(),copyJSON=(e,t,o)=>t[o]=JSON.parse(JSON.stringify(e[o])),cloneJSON=e=>JSON.parse(JSON.stringify(e)),copyCopyable=(e,t,o)=>t[o].copy(e[o]),cloneClonable=e=>e.clone(),createType=(e,t,o)=>({default:e,clone:t,copy:o}),PropTypes={Number:{default:0,clone:cloneValue,copy:copyValue},Boolean:{default:!1,clone:cloneValue,copy:copyValue},String:{default:"",clone:cloneValue,copy:copyValue},Object:{default:void 0,clone:cloneValue,copy:copyValue},Array:{default:[],clone:cloneArray,copy:copyArray},JSON:{default:null,clone:cloneJSON,copy:copyJSON}};function generateId(e){for(var t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=o.length,s=0;s<e;s++)t+=o.charAt(Math.floor(Math.random()*n));return t}function injectScript(e,t){var o=document.createElement("script");o.src=e,o.onload=t,(document.head||document.documentElement).appendChild(o)}function hookConsoleAndErrors(e){["error","warning","log"].forEach(t=>{if("function"==typeof console[t]){var o=console[t].bind(console);console[t]=(...n)=>(e.send({method:"console",type:t,args:JSON.stringify(n)}),o.apply(null,n))}}),window.addEventListener("error",t=>{e.send({method:"error",error:JSON.stringify({message:t.error.message,stack:t.error.stack})})})}function includeRemoteIdHTML(e){let t=document.createElement("div");return t.style.cssText="\n    align-items: center;\n    background-color: #333;\n    color: #aaa;\n    display:flex;\n    font-family: Arial;\n    font-size: 1.1em;\n    height: 40px;\n    justify-content: center;\n    left: 0;\n    opacity: 0.9;\n    position: absolute;\n    right: 0;\n    text-align: center;\n    top: 0;\n  ",t.innerHTML=`Open ECSY devtools to connect to this page using the code:&nbsp;<b style="color: #fff">${e}</b>&nbsp;<button onClick="generateNewCode()">Generate new code</button>`,document.body.appendChild(t),t}function enableRemoteDevtools(remoteId){window.generateNewCode=()=>{window.localStorage.clear(),remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId),window.location.reload(!1)},remoteId=remoteId||window.localStorage.getItem("ecsyRemoteId"),remoteId||(remoteId=generateId(6),window.localStorage.setItem("ecsyRemoteId",remoteId));let infoDiv=includeRemoteIdHTML(remoteId);window.__ECSY_REMOTE_DEVTOOLS_INJECTED=!0,window.__ECSY_REMOTE_DEVTOOLS={};let Version="",worldsBeforeLoading=[],onWorldCreated=e=>{var t=e.detail.world;Version=e.detail.version,worldsBeforeLoading.push(t)};window.addEventListener("ecsy-world-created",onWorldCreated);let onLoaded=()=>{var peer=new Peer(remoteId);peer.on("open",()=>{peer.on("connection",connection=>{window.__ECSY_REMOTE_DEVTOOLS.connection=connection,connection.on("open",(function(){infoDiv.innerHTML="Connected",connection.on("data",(function(data){if("init"===data.type){var script=document.createElement("script");script.setAttribute("type","text/javascript"),script.onload=()=>{script.parentNode.removeChild(script),window.removeEventListener("ecsy-world-created",onWorldCreated),worldsBeforeLoading.forEach(e=>{var t=new CustomEvent("ecsy-world-created",{detail:{world:e,version:Version}});window.dispatchEvent(t)})},script.innerHTML=data.script,(document.head||document.documentElement).appendChild(script),script.onload(),hookConsoleAndErrors(connection)}else if("executeScript"===data.type){let value=eval(data.script);data.returnEval&&connection.send({method:"evalReturn",value:value})}}))}))})})};injectScript("https://cdn.jsdelivr.net/npm/peerjs@0.3.20/dist/peer.min.js",onLoaded)}const urlParams=new URLSearchParams(window.location.search);urlParams.has("enable-remote-devtools")&&enableRemoteDevtools(),exports.Component=Component,exports.Not=Not,exports.ObjectPool=ObjectPool,exports.PropTypes=PropTypes,exports.System=System,exports.SystemStateComponent=SystemStateComponent,exports.TagComponent=TagComponent,exports.Version=Version,exports.World=World,exports._wrapImmutableComponent=wrapImmutableComponent,exports.cloneArray=cloneArray,exports.cloneClonable=cloneClonable,exports.cloneJSON=cloneJSON,exports.cloneValue=cloneValue,exports.copyArray=copyArray,exports.copyCopyable=copyCopyable,exports.copyJSON=copyJSON,exports.copyValue=copyValue,exports.createType=createType,exports.enableRemoteDevtools=enableRemoteDevtools,Object.defineProperty(exports,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWNzeS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9TeXN0ZW1NYW5hZ2VyLmpzIiwiLi4vc3JjL1ZlcnNpb24uanMiLCIuLi9zcmMvRXZlbnREaXNwYXRjaGVyLmpzIiwiLi4vc3JjL1V0aWxzLmpzIiwiLi4vc3JjL1F1ZXJ5LmpzIiwiLi4vc3JjL1dyYXBJbW11dGFibGVDb21wb25lbnQuanMiLCIuLi9zcmMvRW50aXR5LmpzIiwiLi4vc3JjL09iamVjdFBvb2wuanMiLCIuLi9zcmMvV29ybGQuanMiLCIuLi9zcmMvU3lzdGVtLmpzIiwiLi4vc3JjL0NvbXBvbmVudC5qcyIsIi4uL3NyYy9TeXN0ZW1TdGF0ZUNvbXBvbmVudC5qcyIsIi4uL3NyYy9UYWdDb21wb25lbnQuanMiLCIuLi9zcmMvUHJvcFR5cGVzLmpzIiwiLi4vc3JjL1JlbW90ZURldlRvb2xzL3V0aWxzLmpzIiwiLi4vc3JjL1JlbW90ZURldlRvb2xzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTeXN0ZW1NYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLl9zeXN0ZW1zID0gW107XG4gICAgdGhpcy5fZXhlY3V0ZVN5c3RlbXMgPSBbXTsgLy8gU3lzdGVtcyB0aGF0IGhhdmUgYGV4ZWN1dGVgIG1ldGhvZFxuICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB0aGlzLmxhc3RFeGVjdXRlZFN5c3RlbSA9IG51bGw7XG4gIH1cblxuICByZWdpc3RlclN5c3RlbShTeXN0ZW0sIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLl9zeXN0ZW1zLmZpbmQocyA9PiBzLmNvbnN0cnVjdG9yLm5hbWUgPT09IFN5c3RlbS5uYW1lKSAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFN5c3RlbSAnJHtTeXN0ZW0ubmFtZX0nIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBzeXN0ZW0gPSBuZXcgU3lzdGVtKHRoaXMud29ybGQsIGF0dHJpYnV0ZXMpO1xuICAgIGlmIChzeXN0ZW0uaW5pdCkgc3lzdGVtLmluaXQoKTtcbiAgICBzeXN0ZW0ub3JkZXIgPSB0aGlzLl9zeXN0ZW1zLmxlbmd0aDtcbiAgICB0aGlzLl9zeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICBpZiAoc3lzdGVtLmV4ZWN1dGUpIHtcbiAgICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICAgIHRoaXMuc29ydFN5c3RlbXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzb3J0U3lzdGVtcygpIHtcbiAgICB0aGlzLl9leGVjdXRlU3lzdGVtcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHkgfHwgYS5vcmRlciAtIGIub3JkZXI7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTeXN0ZW0oU3lzdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5c3RlbXMuZmluZChzID0+IHMgaW5zdGFuY2VvZiBTeXN0ZW0pO1xuICB9XG5cbiAgZ2V0U3lzdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc3lzdGVtcztcbiAgfVxuXG4gIHJlbW92ZVN5c3RlbShTeXN0ZW0pIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9zeXN0ZW1zLmluZGV4T2YoU3lzdGVtKTtcbiAgICBpZiAoIX5pbmRleCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fc3lzdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgZXhlY3V0ZVN5c3RlbShzeXN0ZW0sIGRlbHRhLCB0aW1lKSB7XG4gICAgaWYgKHN5c3RlbS5pbml0aWFsaXplZCkge1xuICAgICAgaWYgKHN5c3RlbS5jYW5FeGVjdXRlKCkpIHtcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBzeXN0ZW0uZXhlY3V0ZShkZWx0YSwgdGltZSk7XG4gICAgICAgIHN5c3RlbS5leGVjdXRlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmxhc3RFeGVjdXRlZFN5c3RlbSA9IHN5c3RlbTtcbiAgICAgICAgc3lzdGVtLmNsZWFyRXZlbnRzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLl9leGVjdXRlU3lzdGVtcy5mb3JFYWNoKHN5c3RlbSA9PiBzeXN0ZW0uc3RvcCgpKTtcbiAgfVxuXG4gIGV4ZWN1dGUoZGVsdGEsIHRpbWUsIGZvcmNlUGxheSkge1xuICAgIHRoaXMuX2V4ZWN1dGVTeXN0ZW1zLmZvckVhY2goXG4gICAgICBzeXN0ZW0gPT5cbiAgICAgICAgKGZvcmNlUGxheSB8fCBzeXN0ZW0uZW5hYmxlZCkgJiYgdGhpcy5leGVjdXRlU3lzdGVtKHN5c3RlbSwgZGVsdGEsIHRpbWUpXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRzKCkge1xuICAgIHZhciBzdGF0cyA9IHtcbiAgICAgIG51bVN5c3RlbXM6IHRoaXMuX3N5c3RlbXMubGVuZ3RoLFxuICAgICAgc3lzdGVtczoge31cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zeXN0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc3lzdGVtID0gdGhpcy5fc3lzdGVtc1tpXTtcbiAgICAgIHZhciBzeXN0ZW1TdGF0cyA9IChzdGF0cy5zeXN0ZW1zW3N5c3RlbS5jb25zdHJ1Y3Rvci5uYW1lXSA9IHtcbiAgICAgICAgcXVlcmllczoge31cbiAgICAgIH0pO1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzeXN0ZW0uY3R4KSB7XG4gICAgICAgIHN5c3RlbVN0YXRzLnF1ZXJpZXNbbmFtZV0gPSBzeXN0ZW0uY3R4W25hbWVdLnN0YXRzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgVmVyc2lvbiA9IFwiMC4yLjJcIjtcbiIsIi8qKlxuICogQHByaXZhdGVcbiAqIEBjbGFzcyBFdmVudERpc3BhdGNoZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnREaXNwYXRjaGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5zdGF0cyA9IHtcbiAgICAgIGZpcmVkOiAwLFxuICAgICAgaGFuZGxlZDogMFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIENhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgaWYgKGxpc3RlbmVyc1tldmVudE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgaWYgKGxpc3RlbmVyc1tldmVudE5hbWVdLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0ucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFscmVhZHkgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgbGlzdGVuZXJzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY2hlY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQ2FsbGJhY2sgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICovXG4gIGhhc0V2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXS5pbmRleE9mKGxpc3RlbmVyKSAhPT0gLTFcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBDYWxsYmFjayBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLl9saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lckFycmF5LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBsaXN0ZW5lckFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGFuIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZGlzcGF0Y2hcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSAoT3B0aW9uYWwpIEVudGl0eSB0byBlbWl0XG4gICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcbiAgICovXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnROYW1lLCBlbnRpdHksIGNvbXBvbmVudCkge1xuICAgIHRoaXMuc3RhdHMuZmlyZWQrKztcblxuICAgIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGFycmF5ID0gbGlzdGVuZXJBcnJheS5zbGljZSgwKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpXS5jYWxsKHRoaXMsIGVudGl0eSwgY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgc3RhdHMgY291bnRlcnNcbiAgICovXG4gIHJlc2V0Q291bnRlcnMoKSB7XG4gICAgdGhpcy5zdGF0cy5maXJlZCA9IHRoaXMuc3RhdHMuaGFuZGxlZCA9IDA7XG4gIH1cbn1cbiIsIi8qKlxuICogR2V0IGEga2V5IGZyb20gYSBsaXN0IG9mIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7QXJyYXkoQ29tcG9uZW50KX0gQ29tcG9uZW50cyBBcnJheSBvZiBjb21wb25lbnRzIHRvIGdlbmVyYXRlIHRoZSBrZXlcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUtleShDb21wb25lbnRzKSB7XG4gIHZhciBuYW1lcyA9IFtdO1xuICBmb3IgKHZhciBuID0gMDsgbiA8IENvbXBvbmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICB2YXIgVCA9IENvbXBvbmVudHNbbl07XG4gICAgaWYgKHR5cGVvZiBUID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YXIgb3BlcmF0b3IgPSBULm9wZXJhdG9yID09PSBcIm5vdFwiID8gXCIhXCIgOiBULm9wZXJhdG9yO1xuICAgICAgbmFtZXMucHVzaChvcGVyYXRvciArIFQuQ29tcG9uZW50Lm5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lcy5wdXNoKFQubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWVzLnNvcnQoKS5qb2luKFwiLVwiKTtcbn1cblxubGV0IF9sdXQgPSBbXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBfbHV0W2ldID0gKGkgPCAxNiA/IFwiMFwiIDogXCJcIikgKyBpLnRvU3RyaW5nKDE2KTtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL2Rldi9zcmMvbWF0aC9NYXRoVXRpbHMuanMjTDIxXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQoKSB7XG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTk2MzEzNiMyMTk2MzEzNlxuXG4gIGxldCBkMCA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcbiAgbGV0IGQxID0gTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmZmYgfCAwO1xuICBsZXQgZDIgPSBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZmZiB8IDA7XG4gIGxldCBkMyA9IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZmZmIHwgMDtcbiAgbGV0IHV1aWQgPSBfbHV0WyBkMCAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDggJiAweGZmIF0gKyBfbHV0WyBkMCA+PiAxNiAmIDB4ZmYgXSArIF9sdXRbIGQwID4+IDI0ICYgMHhmZiBdICsgJy0nICtcbiAgICBfbHV0WyBkMSAmIDB4ZmYgXSArIF9sdXRbIGQxID4+IDggJiAweGZmIF0gKyAnLScgKyBfbHV0WyBkMSA+PiAxNiAmIDB4MGYgfCAweDQwIF0gKyBfbHV0WyBkMSA+PiAyNCAmIDB4ZmYgXSArICctJyArXG4gICAgX2x1dFsgZDIgJiAweDNmIHwgMHg4MCBdICsgX2x1dFsgZDIgPj4gOCAmIDB4ZmYgXSArICctJyArIF9sdXRbIGQyID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDIgPj4gMjQgJiAweGZmIF0gK1xuICAgIF9sdXRbIGQzICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gOCAmIDB4ZmYgXSArIF9sdXRbIGQzID4+IDE2ICYgMHhmZiBdICsgX2x1dFsgZDMgPj4gMjQgJiAweGZmIF07XG5cbiAgLy8gLnRvVXBwZXJDYXNlKCkgaGVyZSBmbGF0dGVucyBjb25jYXRlbmF0ZWQgc3RyaW5ncyB0byBzYXZlIGhlYXAgbWVtb3J5IHNwYWNlLlxuICByZXR1cm4gdXVpZC50b1VwcGVyQ2FzZSgpO1xufVxuIiwiaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXIuanNcIjtcbmltcG9ydCB7IHF1ZXJ5S2V5IH0gZnJvbSBcIi4vVXRpbHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlcnkge1xuICAvKipcbiAgICogQHBhcmFtIHtBcnJheShDb21wb25lbnQpfSBDb21wb25lbnRzIExpc3Qgb2YgdHlwZXMgb2YgY29tcG9uZW50cyB0byBxdWVyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoQ29tcG9uZW50cywgd29ybGQpIHtcbiAgICB0aGlzLkNvbXBvbmVudHMgPSBbXTtcbiAgICB0aGlzLk5vdENvbXBvbmVudHMgPSBbXTtcblxuICAgIENvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhpcy5Ob3RDb21wb25lbnRzLnB1c2goY29tcG9uZW50LkNvbXBvbmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuQ29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNyZWF0ZSBhIHF1ZXJ5IHdpdGhvdXQgY29tcG9uZW50c1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0aWVzID0gW107XG5cbiAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlciA9IG5ldyBFdmVudERpc3BhdGNoZXIoKTtcblxuICAgIC8vIFRoaXMgcXVlcnkgaXMgYmVpbmcgdXNlZCBieSBhIHJlYWN0aXZlIHN5c3RlbVxuICAgIHRoaXMucmVhY3RpdmUgPSBmYWxzZTtcblxuICAgIHRoaXMua2V5ID0gcXVlcnlLZXkoQ29tcG9uZW50cyk7XG5cbiAgICAvLyBGaWxsIHRoZSBxdWVyeSB3aXRoIHRoZSBleGlzdGluZyBlbnRpdGllc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29ybGQuZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbnRpdHkgPSB3b3JsZC5lbnRpdGllc1tpXTtcbiAgICAgIGlmICh0aGlzLm1hdGNoKGVudGl0eSkpIHtcbiAgICAgICAgLy8gQHRvZG8gPz8/IHRoaXMuYWRkRW50aXR5KGVudGl0eSk7ID0+IHByZXZlbnRpbmcgdGhlIGV2ZW50IHRvIGJlIGdlbmVyYXRlZFxuICAgICAgICBlbnRpdHkucXVlcmllcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGVudGl0eSB0byB0aGlzIHF1ZXJ5XG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHlcbiAgICovXG4gIGFkZEVudGl0eShlbnRpdHkpIHtcbiAgICBlbnRpdHkucXVlcmllcy5wdXNoKHRoaXMpO1xuICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xuXG4gICAgdGhpcy5ldmVudERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChRdWVyeS5wcm90b3R5cGUuRU5USVRZX0FEREVELCBlbnRpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBlbnRpdHkgZnJvbSB0aGlzIHF1ZXJ5XG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHlcbiAgICovXG4gIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmVudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcbiAgICBpZiAofmluZGV4KSB7XG4gICAgICB0aGlzLmVudGl0aWVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgIGluZGV4ID0gZW50aXR5LnF1ZXJpZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgIGVudGl0eS5xdWVyaWVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIFF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfUkVNT1ZFRCxcbiAgICAgICAgZW50aXR5XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG1hdGNoKGVudGl0eSkge1xuICAgIHJldHVybiAoXG4gICAgICBlbnRpdHkuaGFzQWxsQ29tcG9uZW50cyh0aGlzLkNvbXBvbmVudHMpICYmXG4gICAgICAhZW50aXR5Lmhhc0FueUNvbXBvbmVudHModGhpcy5Ob3RDb21wb25lbnRzKVxuICAgICk7XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICByZWFjdGl2ZTogdGhpcy5yZWFjdGl2ZSxcbiAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgaW5jbHVkZWQ6IHRoaXMuQ29tcG9uZW50cy5tYXAoQyA9PiBDLm5hbWUpLFxuICAgICAgICBub3Q6IHRoaXMuTm90Q29tcG9uZW50cy5tYXAoQyA9PiBDLm5hbWUpXG4gICAgICB9LFxuICAgICAgbnVtRW50aXRpZXM6IHRoaXMuZW50aXRpZXMubGVuZ3RoXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gc3RhdHMgZm9yIHRoaXMgcXVlcnlcbiAgICovXG4gIHN0YXRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBudW1Db21wb25lbnRzOiB0aGlzLkNvbXBvbmVudHMubGVuZ3RoLFxuICAgICAgbnVtRW50aXRpZXM6IHRoaXMuZW50aXRpZXMubGVuZ3RoXG4gICAgfTtcbiAgfVxufVxuXG5RdWVyeS5wcm90b3R5cGUuRU5USVRZX0FEREVEID0gXCJRdWVyeSNFTlRJVFlfQURERURcIjtcblF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfUkVNT1ZFRCA9IFwiUXVlcnkjRU5USVRZX1JFTU9WRURcIjtcblF1ZXJ5LnByb3RvdHlwZS5DT01QT05FTlRfQ0hBTkdFRCA9IFwiUXVlcnkjQ09NUE9ORU5UX0NIQU5HRURcIjtcbiIsImNvbnN0IHByb3h5TWFwID0gbmV3IFdlYWtNYXAoKTtcblxuY29uc3QgcHJveHlIYW5kbGVyID0ge1xuICBzZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRyaWVkIHRvIHdyaXRlIHRvIFwiJHt0YXJnZXQuY29uc3RydWN0b3IubmFtZX0jJHtTdHJpbmcoXG4gICAgICAgIHByb3BcbiAgICAgICl9XCIgb24gaW1tdXRhYmxlIGNvbXBvbmVudC4gVXNlIC5nZXRNdXRhYmxlQ29tcG9uZW50KCkgdG8gbW9kaWZ5IGEgY29tcG9uZW50LmBcbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEltbXV0YWJsZUNvbXBvbmVudChULCBjb21wb25lbnQpIHtcbiAgaWYgKGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxldCB3cmFwcGVkQ29tcG9uZW50ID0gcHJveHlNYXAuZ2V0KGNvbXBvbmVudCk7XG5cbiAgaWYgKCF3cmFwcGVkQ29tcG9uZW50KSB7XG4gICAgd3JhcHBlZENvbXBvbmVudCA9IG5ldyBQcm94eShjb21wb25lbnQsIHByb3h5SGFuZGxlcik7XG4gICAgcHJveHlNYXAuc2V0KGNvbXBvbmVudCwgd3JhcHBlZENvbXBvbmVudCk7XG4gIH1cblxuICByZXR1cm4gd3JhcHBlZENvbXBvbmVudDtcbn1cbiIsImltcG9ydCBRdWVyeSBmcm9tIFwiLi9RdWVyeS5qc1wiO1xuaW1wb3J0IHsgd3JhcEltbXV0YWJsZUNvbXBvbmVudCB9IGZyb20gXCIuL1dyYXBJbW11dGFibGVDb21wb25lbnQuanNcIjtcbmltcG9ydCB7IGdlbmVyYXRlVVVJRCB9IGZyb20gXCIuL1V0aWxzXCI7XG5cbi8vIEB0b2RvIFRha2UgdGhpcyBvdXQgZnJvbSB0aGVyZSBvciB1c2UgRU5WXG5jb25zdCBERUJVRyA9IGZhbHNlO1xuXG5leHBvcnQgY2xhc3MgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iod29ybGQpIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cbiAgICAvLyBVbmlxdWUgSUQgZm9yIHRoaXMgZW50aXR5XG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKCk7XG5cbiAgICAvLyBMaXN0IG9mIGNvbXBvbmVudHMgdHlwZXMgdGhlIGVudGl0eSBoYXNcbiAgICB0aGlzLmNvbXBvbmVudFR5cGVzID0gW107XG5cbiAgICAvLyBJbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50c1xuICAgIHRoaXMuY29tcG9uZW50cyA9IHt9O1xuXG4gICAgdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlID0ge307XG5cbiAgICAvLyBRdWVyaWVzIHdoZXJlIHRoZSBlbnRpdHkgaXMgYWRkZWRcbiAgICB0aGlzLnF1ZXJpZXMgPSBbXTtcblxuICAgIC8vIFVzZWQgZm9yIGRlZmVycmVkIHJlbW92YWxcbiAgICB0aGlzLl9jb21wb25lbnRUeXBlc1RvUmVtb3ZlID0gW107XG5cbiAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG5cbiAgICB0aGlzLl9udW1TeXN0ZW1TdGF0ZUNvbXBvbmVudHMgPSAwO1xuICB9XG5cbiAgLy8gQ09NUE9ORU5UU1xuXG4gIGdldENvbXBvbmVudChDb21wb25lbnQsIGluY2x1ZGVSZW1vdmVkKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1tDb21wb25lbnQubmFtZV07XG5cbiAgICBpZiAoIWNvbXBvbmVudCAmJiBpbmNsdWRlUmVtb3ZlZCA9PT0gdHJ1ZSkge1xuICAgICAgY29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlW0NvbXBvbmVudC5uYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gREVCVUcgPyB3cmFwSW1tdXRhYmxlQ29tcG9uZW50KENvbXBvbmVudCwgY29tcG9uZW50KSA6IGNvbXBvbmVudDtcbiAgfVxuXG4gIGdldFJlbW92ZWRDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZVtDb21wb25lbnQubmFtZV07XG4gIH1cblxuICBnZXRDb21wb25lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHM7XG4gIH1cblxuICBnZXRDb21wb25lbnRzVG9SZW1vdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZTtcbiAgfVxuXG4gIGdldENvbXBvbmVudFR5cGVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFR5cGVzO1xuICB9XG5cbiAgZ2V0TXV0YWJsZUNvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW0NvbXBvbmVudC5uYW1lXTtcblxuICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbaV07XG4gICAgICAgIC8vIEB0b2RvIGFjY2VsZXJhdGUgdGhpcyBjaGVjay4gTWF5YmUgaGF2aW5nIHF1ZXJ5Ll9Db21wb25lbnRzIGFzIGFuIG9iamVjdFxuICAgICAgICBpZiAocXVlcnkucmVhY3RpdmUgJiYgcXVlcnkuQ29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgIT09IC0xKSB7XG4gICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgY29tcG9uZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH1cblxuICBhZGRDb21wb25lbnQoQ29tcG9uZW50LCBwcm9wcykge1xuICAgIGlmICh+dGhpcy5jb21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCkpIHJldHVybjtcblxuICAgIHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChDb21wb25lbnQpO1xuXG4gICAgaWYgKENvbXBvbmVudC5pc1N5c3RlbVN0YXRlQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLl9udW1TeXN0ZW1TdGF0ZUNvbXBvbmVudHMrKztcbiAgICB9XG5cbiAgICB2YXIgY29tcG9uZW50UG9vbCA9IHRoaXMud29ybGQuZ2V0Q29tcG9uZW50UG9vbChDb21wb25lbnQpO1xuXG4gICAgdmFyIGNvbXBvbmVudCA9XG4gICAgICBjb21wb25lbnRQb29sID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBuZXcgQ29tcG9uZW50KHByb3BzKVxuICAgICAgICA6IGNvbXBvbmVudFBvb2wuYWNxdWlyZSgpO1xuXG4gICAgaWYgKGNvbXBvbmVudFBvb2wgJiYgcHJvcHMpIHtcbiAgICAgIGNvbXBvbmVudC5jb3B5KHByb3BzKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvbmVudHNbQ29tcG9uZW50Lm5hbWVdID0gY29tcG9uZW50O1xuXG4gICAgaWYgKHRoaXMuYWxpdmUpIHtcbiAgICAgIHRoaXMud29ybGQub25Db21wb25lbnRBZGRlZCh0aGlzLCBDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaGFzQ29tcG9uZW50KENvbXBvbmVudCwgaW5jbHVkZVJlbW92ZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgISF+dGhpcy5jb21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCkgfHxcbiAgICAgIChpbmNsdWRlUmVtb3ZlZCA9PT0gdHJ1ZSAmJiB0aGlzLmhhc1JlbW92ZWRDb21wb25lbnQoQ29tcG9uZW50KSlcbiAgICApO1xuICB9XG5cbiAgaGFzUmVtb3ZlZENvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gISF+dGhpcy5fY29tcG9uZW50VHlwZXNUb1JlbW92ZS5pbmRleE9mKENvbXBvbmVudCk7XG4gIH1cblxuICBoYXNBbGxDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5oYXNDb21wb25lbnQoQ29tcG9uZW50c1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXNBbnlDb21wb25lbnRzKENvbXBvbmVudHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChDb21wb25lbnRzW2ldKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbW92ZUNvbXBvbmVudChDb21wb25lbnQsIGltbWVkaWF0ZWx5KSB7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IENvbXBvbmVudC5uYW1lO1xuXG4gICAgaWYgKCF0aGlzLl9jb21wb25lbnRzVG9SZW1vdmVbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG5cbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jb21wb25lbnRUeXBlcy5pbmRleE9mKENvbXBvbmVudCk7XG4gICAgICB0aGlzLmNvbXBvbmVudFR5cGVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgIHRoaXMud29ybGQub25SZW1vdmVDb21wb25lbnQodGhpcywgQ29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG5cbiAgICBpZiAoaW1tZWRpYXRlbHkpIHtcbiAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50LmRpc3Bvc2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbXBvbmVudHNUb1JlbW92ZVtjb21wb25lbnROYW1lXSkge1xuICAgICAgICBkZWxldGUgdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlW2NvbXBvbmVudE5hbWVdO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2NvbXBvbmVudFR5cGVzVG9SZW1vdmUuaW5kZXhPZihDb21wb25lbnQpO1xuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlc1RvUmVtb3ZlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuYWxpdmUpIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzVG9SZW1vdmUucHVzaChDb21wb25lbnQpO1xuICAgICAgdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlW2NvbXBvbmVudE5hbWVdID0gY29tcG9uZW50O1xuICAgICAgdGhpcy53b3JsZC5xdWV1ZUNvbXBvbmVudFJlbW92YWwodGhpcywgQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBpZiAoQ29tcG9uZW50LmlzU3lzdGVtU3RhdGVDb21wb25lbnQpIHtcbiAgICAgIHRoaXMuX251bVN5c3RlbVN0YXRlQ29tcG9uZW50cy0tO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgZW50aXR5IHdhcyBhIGdob3N0IHdhaXRpbmcgZm9yIHRoZSBsYXN0IHN5c3RlbSBzdGF0ZSBjb21wb25lbnQgdG8gYmUgcmVtb3ZlZFxuICAgICAgaWYgKHRoaXMuX251bVN5c3RlbVN0YXRlQ29tcG9uZW50cyA9PT0gMCAmJiAhdGhpcy5hbGl2ZSkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByb2Nlc3NSZW1vdmVkQ29tcG9uZW50cygpIHtcbiAgICB3aGlsZSAodGhpcy5fY29tcG9uZW50VHlwZXNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgQ29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50VHlwZXNUb1JlbW92ZS5wb3AoKTtcbiAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlQWxsQ29tcG9uZW50cyhpbW1lZGlhdGVseSkge1xuICAgIGxldCBDb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRUeXBlcztcblxuICAgIGZvciAobGV0IGogPSBDb21wb25lbnRzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudChDb21wb25lbnRzW2pdLCBpbW1lZGlhdGVseSk7XG4gICAgfVxuICB9XG5cbiAgY29weShzb3VyY2UpIHtcbiAgICAvLyBESVNDVVNTOiBTaG91bGQgd2UgcmVzZXQgQ29tcG9uZW50VHlwZXMgYW5kIGNvbXBvbmVudHMgaGVyZSBvciBpbiBkaXNwb3NlP1xuICAgIGZvciAoY29uc3QgY29tcG9uZW50TmFtZSBpbiBzb3VyY2UuY29tcG9uZW50cykge1xuICAgICAgY29uc3Qgc291cmNlQ29tcG9uZW50ID0gc291cmNlLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgICB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0gPSBzb3VyY2VDb21wb25lbnQuY2xvbmUoKTtcbiAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMucHVzaChzb3VyY2VDb21wb25lbnQuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMud29ybGQpLmNvcHkodGhpcyk7XG4gIH1cblxuICBkaXNwb3NlKGltbWVkaWF0ZWx5KSB7XG4gICAgaWYgKHRoaXMuYWxpdmUpIHtcbiAgICAgIHRoaXMud29ybGQub25EaXNwb3NlRW50aXR5KHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKCk7XG4gICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1ZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5xdWVyaWVzW2ldLnJlbW92ZUVudGl0eSh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBjb21wb25lbnROYW1lIGluIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0uZGlzcG9zZSgpO1xuICAgICAgICBkZWxldGUgdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudE5hbWUgaW4gdGhpcy5fY29tcG9uZW50c1RvUmVtb3ZlKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jb21wb25lbnRzVG9SZW1vdmVbY29tcG9uZW50TmFtZV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMucXVlcmllcy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5jb21wb25lbnRUeXBlcy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXNUb1JlbW92ZS5sZW5ndGggPSAwO1xuXG4gICAgICBpZiAodGhpcy5fcG9vbCkge1xuICAgICAgICB0aGlzLl9wb29sLnJlbGVhc2UodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMud29ybGQub25FbnRpdHlEaXNwb3NlZCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy53b3JsZC5xdWV1ZUVudGl0eURpc3Bvc2FsKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIE9iamVjdFBvb2wge1xuICBjb25zdHJ1Y3RvcihiYXNlT2JqZWN0LCBpbml0aWFsU2l6ZSkge1xuICAgIHRoaXMuZnJlZUxpc3QgPSBbXTtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB0aGlzLmJhc2VPYmplY3QgPSBiYXNlT2JqZWN0O1xuICAgIHRoaXMuaXNPYmplY3RQb29sID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFNpemUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuZXhwYW5kKGluaXRpYWxTaXplKTtcbiAgICB9XG4gIH1cblxuICBhY3F1aXJlKCkge1xuICAgIC8vIEdyb3cgdGhlIGxpc3QgYnkgMjAlaXNoIGlmIHdlJ3JlIG91dFxuICAgIGlmICh0aGlzLmZyZWVMaXN0Lmxlbmd0aCA8PSAwKSB7XG4gICAgICB0aGlzLmV4cGFuZChNYXRoLnJvdW5kKHRoaXMuY291bnQgKiAwLjIpICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB0aGlzLmZyZWVMaXN0LnBvcCgpO1xuXG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICByZWxlYXNlKGl0ZW0pIHtcbiAgICBpdGVtLmNvcHkodGhpcy5iYXNlT2JqZWN0KTtcbiAgICB0aGlzLmZyZWVMaXN0LnB1c2goaXRlbSk7XG4gIH1cblxuICBleHBhbmQoY291bnQpIHtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNvdW50OyBuKyspIHtcbiAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5iYXNlT2JqZWN0LmNsb25lKCk7XG4gICAgICBjbG9uZS5fcG9vbCA9IHRoaXM7XG4gICAgICB0aGlzLmZyZWVMaXN0LnB1c2goY2xvbmUpO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ICs9IGNvdW50O1xuICB9XG5cbiAgdG90YWxTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmNvdW50O1xuICB9XG5cbiAgdG90YWxGcmVlKCkge1xuICAgIHJldHVybiB0aGlzLmZyZWVMaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIHRvdGFsVXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudCAtIHRoaXMuZnJlZUxpc3QubGVuZ3RoO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTeXN0ZW1NYW5hZ2VyIH0gZnJvbSBcIi4vU3lzdGVtTWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgVmVyc2lvbiB9IGZyb20gXCIuL1ZlcnNpb24uanNcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL0VudGl0eS5qc1wiO1xuaW1wb3J0IHsgT2JqZWN0UG9vbCB9IGZyb20gXCIuL09iamVjdFBvb2wuanNcIjtcbmltcG9ydCBRdWVyeSBmcm9tIFwiLi9RdWVyeS5qc1wiO1xuaW1wb3J0IHsgcXVlcnlLZXkgfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgV29ybGQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN5c3RlbU1hbmFnZXIgPSBuZXcgU3lzdGVtTWFuYWdlcih0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5UG9vbCA9IG5ldyBPYmplY3RQb29sKG5ldyBFbnRpdHkodGhpcykpO1xuXG4gICAgdGhpcy5lbnRpdGllcyA9IFtdO1xuICAgIHRoaXMuZW50aXRpZXNCeVVVSUQgPSB7fTtcblxuICAgIHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlID0gW107XG4gICAgdGhpcy5lbnRpdGllc1RvUmVtb3ZlID0gW107XG4gICAgdGhpcy5kZWZlcnJlZFJlbW92YWxFbmFibGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuY29tcG9uZW50VHlwZXMgPSB7fTtcbiAgICB0aGlzLmNvbXBvbmVudFBvb2xzID0ge307XG4gICAgdGhpcy5jb21wb25lbnRDb3VudHMgPSB7fTtcblxuICAgIHRoaXMucXVlcmllcyA9IHt9O1xuXG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImVjc3ktd29ybGQtY3JlYXRlZFwiLCB7XG4gICAgICAgIGRldGFpbDogeyB3b3JsZDogdGhpcywgdmVyc2lvbjogVmVyc2lvbiB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICB0aGlzLmlzV29ybGQgPSB0cnVlO1xuICB9XG5cbiAgcmVnaXN0ZXJDb21wb25lbnQoQ29tcG9uZW50LCBvYmplY3RQb29sKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50VHlwZXNbQ29tcG9uZW50Lm5hbWVdKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENvbXBvbmVudCB0eXBlOiAnJHtDb21wb25lbnQubmFtZX0nIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50VHlwZXNbQ29tcG9uZW50Lm5hbWVdID0gQ29tcG9uZW50O1xuICAgIHRoaXMuY29tcG9uZW50Q291bnRzW0NvbXBvbmVudC5uYW1lXSA9IDA7XG5cbiAgICBpZiAob2JqZWN0UG9vbCA9PT0gZmFsc2UpIHtcbiAgICAgIG9iamVjdFBvb2wgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChvYmplY3RQb29sID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9iamVjdFBvb2wgPSBuZXcgT2JqZWN0UG9vbChuZXcgQ29tcG9uZW50KCkpO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50UG9vbHNbQ29tcG9uZW50Lm5hbWVdID0gb2JqZWN0UG9vbDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVnaXN0ZXJTeXN0ZW0oU3lzdGVtLCBhdHRyaWJ1dGVzKSB7XG4gICAgdGhpcy5zeXN0ZW1NYW5hZ2VyLnJlZ2lzdGVyU3lzdGVtKFN5c3RlbSwgYXR0cmlidXRlcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjcmVhdGVFbnRpdHkoKSB7XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5jcmVhdGVEZXRhY2hlZEVudGl0eSgpO1xuICAgIHJldHVybiB0aGlzLmFkZEVudGl0eShlbnRpdHkpO1xuICB9XG5cbiAgY3JlYXRlRGV0YWNoZWRFbnRpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXR5UG9vbC5hY3F1aXJlKCk7XG4gIH1cblxuICBhZGRFbnRpdHkoZW50aXR5KSB7XG4gICAgaWYgKHRoaXMuZW50aXRpZXNCeVVVSURbZW50aXR5LnV1aWRdKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEVudGl0eSAke2VudGl0eS51dWlkfSBhbHJlYWR5IGFkZGVkLmApO1xuICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0aWVzQnlVVUlEW2VudGl0eS51dWlkXSA9IGVudGl0eTtcbiAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcbiAgICBlbnRpdHkuYWxpdmUgPSB0cnVlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdHkuY29tcG9uZW50VHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IENvbXBvbmVudCA9IGVudGl0eS5jb21wb25lbnRUeXBlc1tpXTtcbiAgICAgIHRoaXMub25Db21wb25lbnRBZGRlZChlbnRpdHksIENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGl0eTtcbiAgfVxuXG4gIGdldEVudGl0eUJ5VVVJRCh1dWlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXRpZXNCeVVVSURbdXVpZF07XG4gIH1cblxuICBjcmVhdGVDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgY29uc3QgY29tcG9uZW50UG9vbCA9IHRoaXMuY29tcG9uZW50UG9vbHNbQ29tcG9uZW50Lm5hbWVdO1xuXG4gICAgaWYgKGNvbXBvbmVudFBvb2wpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRQb29sLmFjcXVpcmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENvbXBvbmVudCgpO1xuICB9XG5cbiAgZ2V0Q29tcG9uZW50UG9vbChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRQb29sc1tDb21wb25lbnQubmFtZV07XG4gIH1cblxuICBnZXRTeXN0ZW0oU3lzdGVtQ2xhc3MpIHtcbiAgICByZXR1cm4gdGhpcy5zeXN0ZW1NYW5hZ2VyLmdldFN5c3RlbShTeXN0ZW1DbGFzcyk7XG4gIH1cblxuICBnZXRTeXN0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLnN5c3RlbU1hbmFnZXIuZ2V0U3lzdGVtcygpO1xuICB9XG5cbiAgZ2V0UXVlcnkoQ29tcG9uZW50cykge1xuICAgIGNvbnN0IGtleSA9IHF1ZXJ5S2V5KENvbXBvbmVudHMpO1xuICAgIGxldCBxdWVyeSA9IHRoaXMucXVlcmllc1trZXldO1xuXG4gICAgaWYgKCFxdWVyeSkge1xuICAgICAgdGhpcy5xdWVyaWVzW2tleV0gPSBxdWVyeSA9IG5ldyBRdWVyeShDb21wb25lbnRzLCB0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBvbkNvbXBvbmVudEFkZGVkKGVudGl0eSwgQ29tcG9uZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvbmVudFR5cGVzW0NvbXBvbmVudC5uYW1lXSkge1xuICAgICAgY29uc29sZS53YXJuKGBDb21wb25lbnQgJHtDb21wb25lbnQubmFtZX0gbm90IHJlZ2lzdGVyZWQuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnRDb3VudHNbQ29tcG9uZW50Lm5hbWVdKys7XG5cbiAgICAvLyBDaGVjayBlYWNoIGluZGV4ZWQgcXVlcnkgdG8gc2VlIGlmIHdlIG5lZWQgdG8gYWRkIHRoaXMgZW50aXR5IHRvIHRoZSBsaXN0XG4gICAgZm9yICh2YXIgcXVlcnlOYW1lIGluIHRoaXMucXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG5cbiAgICAgIGlmIChcbiAgICAgICAgISF+cXVlcnkuTm90Q29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgJiZcbiAgICAgICAgfnF1ZXJ5LmVudGl0aWVzLmluZGV4T2YoZW50aXR5KVxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5LnJlbW92ZUVudGl0eShlbnRpdHkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRoZSBlbnRpdHkgb25seSBpZjpcbiAgICAgIC8vIENvbXBvbmVudCBpcyBpbiB0aGUgcXVlcnlcbiAgICAgIC8vIGFuZCBFbnRpdHkgaGFzIEFMTCB0aGUgY29tcG9uZW50cyBvZiB0aGUgcXVlcnlcbiAgICAgIC8vIGFuZCBFbnRpdHkgaXMgbm90IGFscmVhZHkgaW4gdGhlIHF1ZXJ5XG4gICAgICBpZiAoXG4gICAgICAgICF+cXVlcnkuQ29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgfHxcbiAgICAgICAgIXF1ZXJ5Lm1hdGNoKGVudGl0eSkgfHxcbiAgICAgICAgfnF1ZXJ5LmVudGl0aWVzLmluZGV4T2YoZW50aXR5KVxuICAgICAgKVxuICAgICAgICBjb250aW51ZTtcblxuICAgICAgcXVlcnkuYWRkRW50aXR5KGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgb25Db21wb25lbnRDaGFuZ2VkKGVudGl0eSwgQ29tcG9uZW50LCBjb21wb25lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudGl0eS5xdWVyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcXVlcnkgPSBlbnRpdHkucXVlcmllc1tpXTtcbiAgICAgIC8vIEB0b2RvIGFjY2VsZXJhdGUgdGhpcyBjaGVjay4gTWF5YmUgaGF2aW5nIHF1ZXJ5Ll9Db21wb25lbnRzIGFzIGFuIG9iamVjdFxuICAgICAgaWYgKHF1ZXJ5LnJlYWN0aXZlICYmIHF1ZXJ5LkNvbXBvbmVudHMuaW5kZXhPZihDb21wb25lbnQpICE9PSAtMSkge1xuICAgICAgICBxdWVyeS5ldmVudERpc3BhdGNoZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgZW50aXR5LFxuICAgICAgICAgIGNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHF1ZXVlQ29tcG9uZW50UmVtb3ZhbChlbnRpdHkpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlLmluZGV4T2YoZW50aXR5KTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlLnB1c2goZW50aXR5KTtcbiAgICB9XG4gIH1cblxuICBvblJlbW92ZUNvbXBvbmVudChlbnRpdHksIENvbXBvbmVudCkge1xuICAgIHRoaXMuY29tcG9uZW50Q291bnRzW0NvbXBvbmVudC5uYW1lXS0tO1xuXG4gICAgZm9yICh2YXIgcXVlcnlOYW1lIGluIHRoaXMucXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG5cbiAgICAgIGlmIChcbiAgICAgICAgISF+cXVlcnkuTm90Q29tcG9uZW50cy5pbmRleE9mKENvbXBvbmVudCkgJiZcbiAgICAgICAgIX5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgJiZcbiAgICAgICAgcXVlcnkubWF0Y2goZW50aXR5KVxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5LmFkZEVudGl0eShlbnRpdHkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAhIX5xdWVyeS5Db21wb25lbnRzLmluZGV4T2YoQ29tcG9uZW50KSAmJlxuICAgICAgICAhIX5xdWVyeS5lbnRpdGllcy5pbmRleE9mKGVudGl0eSkgJiZcbiAgICAgICAgIXF1ZXJ5Lm1hdGNoKGVudGl0eSlcbiAgICAgICkge1xuICAgICAgICBxdWVyeS5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVldWVFbnRpdHlEaXNwb3NhbChlbnRpdHkpIHtcbiAgICB0aGlzLmVudGl0aWVzVG9SZW1vdmUucHVzaChlbnRpdHkpO1xuICB9XG5cbiAgb25EaXNwb3NlRW50aXR5KGVudGl0eSkge1xuICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLnF1ZXJpZXMpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG5cbiAgICAgIGlmIChlbnRpdHkucXVlcmllcy5pbmRleE9mKHF1ZXJ5KSAhPT0gLTEpIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25FbnRpdHlEaXNwb3NlZChlbnRpdHkpIHtcbiAgICBpZiAoIXRoaXMuZW50aXRpZXNCeVVVSURbZW50aXR5LnV1aWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuZW50aXRpZXNCeVVVSURbZW50aXR5LnV1aWRdO1xuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmVudGl0aWVzLmluZGV4T2YoZW50aXR5KTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuZW50aXRpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICBleGVjdXRlKGRlbHRhLCB0aW1lKSB7XG4gICAgaWYgKCFkZWx0YSkge1xuICAgICAgbGV0IHRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGRlbHRhID0gdGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICB0aGlzLmxhc3RUaW1lID0gdGltZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLnN5c3RlbU1hbmFnZXIuZXhlY3V0ZShkZWx0YSwgdGltZSk7XG5cbiAgICAgIGlmICghdGhpcy5kZWZlcnJlZFJlbW92YWxFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVudGl0aWVzVG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuZW50aXRpZXNUb1JlbW92ZVtpXTtcbiAgICAgICAgZW50aXR5LmRpc3Bvc2UodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW50aXRpZXNUb1JlbW92ZS5sZW5ndGggPSAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXRpZXNXaXRoQ29tcG9uZW50c1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZVtpXTtcbiAgICAgICAgZW50aXR5LnByb2Nlc3NSZW1vdmVkQ29tcG9uZW50cygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVudGl0aWVzV2l0aENvbXBvbmVudHNUb1JlbW92ZS5sZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBzdGF0cygpIHtcbiAgICB2YXIgc3RhdHMgPSB7XG4gICAgICBlbnRpdGllczoge1xuICAgICAgICBudW1FbnRpdGllczogdGhpcy5lbnRpdGllcy5sZW5ndGgsXG4gICAgICAgIG51bVF1ZXJpZXM6IE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykubGVuZ3RoLFxuICAgICAgICBxdWVyaWVzOiB7fSxcbiAgICAgICAgbnVtQ29tcG9uZW50UG9vbDogT2JqZWN0LmtleXModGhpcy5jb21wb25lbnRQb29scykubGVuZ3RoLFxuICAgICAgICBjb21wb25lbnRQb29sOiB7fVxuICAgICAgfSxcbiAgICAgIHN5c3RlbTogdGhpcy5zeXN0ZW1NYW5hZ2VyLnN0YXRzKClcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBxdWVyeU5hbWUgaW4gdGhpcy5xdWVyaWVzKSB7XG4gICAgICBzdGF0cy5xdWVyaWVzW3F1ZXJ5TmFtZV0gPSB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXS5zdGF0cygpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29tcG9uZW50TmFtZSBpbiB0aGlzLmNvbXBvbmVudFBvb2xzKSB7XG4gICAgICBjb25zdCBwb29sID0gdGhpcy5jb21wb25lbnRQb29sc1tjb21wb25lbnROYW1lXTtcblxuICAgICAgc3RhdHMuY29tcG9uZW50UG9vbFtjb21wb25lbnROYW1lXSA9IHtcbiAgICAgICAgdXNlZDogcG9vbC50b3RhbFVzZWQoKSxcbiAgICAgICAgc2l6ZTogcG9vbC5jb3VudFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzdGF0cywgbnVsbCwgMikpO1xuICB9XG59XG4iLCJpbXBvcnQgUXVlcnkgZnJvbSBcIi4vUXVlcnkuanNcIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbSB7XG4gIGNhbkV4ZWN1dGUoKSB7XG4gICAgaWYgKHRoaXMuX21hbmRhdG9yeVF1ZXJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbWFuZGF0b3J5UXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5fbWFuZGF0b3J5UXVlcmllc1tpXTtcbiAgICAgIGlmIChxdWVyeS5lbnRpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3RydWN0b3Iod29ybGQsIGF0dHJpYnV0ZXMpIHtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIC8vIEB0b2RvIEJldHRlciBuYW1pbmcgOilcbiAgICB0aGlzLl9xdWVyaWVzID0ge307XG4gICAgdGhpcy5xdWVyaWVzID0ge307XG5cbiAgICB0aGlzLnByaW9yaXR5ID0gMDtcblxuICAgIC8vIFVzZWQgZm9yIHN0YXRzXG4gICAgdGhpcy5leGVjdXRlVGltZSA9IDA7XG5cbiAgICBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLnByaW9yaXR5KSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gYXR0cmlidXRlcy5wcmlvcml0eTtcbiAgICB9XG5cbiAgICB0aGlzLl9tYW5kYXRvcnlRdWVyaWVzID0gW107XG5cbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgIGZvciAodmFyIHF1ZXJ5TmFtZSBpbiB0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgICAgdmFyIHF1ZXJ5Q29uZmlnID0gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIHZhciBDb21wb25lbnRzID0gcXVlcnlDb25maWcuY29tcG9uZW50cztcbiAgICAgICAgaWYgKCFDb21wb25lbnRzIHx8IENvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ2NvbXBvbmVudHMnIGF0dHJpYnV0ZSBjYW4ndCBiZSBlbXB0eSBpbiBhIHF1ZXJ5XCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMud29ybGQuZ2V0UXVlcnkoQ29tcG9uZW50cyk7XG4gICAgICAgIHRoaXMuX3F1ZXJpZXNbcXVlcnlOYW1lXSA9IHF1ZXJ5O1xuICAgICAgICBpZiAocXVlcnlDb25maWcubWFuZGF0b3J5ID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5fbWFuZGF0b3J5UXVlcmllcy5wdXNoKHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXSA9IHtcbiAgICAgICAgICByZXN1bHRzOiBxdWVyeS5lbnRpdGllc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlYWN0aXZlIGNvbmZpZ3VyYXRpb24gYWRkZWQvcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICAgIHZhciB2YWxpZEV2ZW50cyA9IFtcImFkZGVkXCIsIFwicmVtb3ZlZFwiLCBcImNoYW5nZWRcIl07XG5cbiAgICAgICAgY29uc3QgZXZlbnRNYXBwaW5nID0ge1xuICAgICAgICAgIGFkZGVkOiBRdWVyeS5wcm90b3R5cGUuRU5USVRZX0FEREVELFxuICAgICAgICAgIHJlbW92ZWQ6IFF1ZXJ5LnByb3RvdHlwZS5FTlRJVFlfUkVNT1ZFRCxcbiAgICAgICAgICBjaGFuZ2VkOiBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQgLy8gUXVlcnkucHJvdG90eXBlLkVOVElUWV9DSEFOR0VEXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHF1ZXJ5Q29uZmlnLmxpc3Rlbikge1xuICAgICAgICAgIHZhbGlkRXZlbnRzLmZvckVhY2goZXZlbnROYW1lID0+IHtcbiAgICAgICAgICAgIC8vIElzIHRoZSBldmVudCBlbmFibGVkIG9uIHRoaXMgc3lzdGVtJ3MgcXVlcnk/XG4gICAgICAgICAgICBpZiAocXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gcXVlcnlDb25maWcubGlzdGVuW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gXCJjaGFuZ2VkXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeS5yZWFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBbnkgY2hhbmdlIG9uIHRoZSBlbnRpdHkgZnJvbSB0aGUgY29tcG9uZW50cyBpbiB0aGUgcXVlcnlcbiAgICAgICAgICAgICAgICAgIGxldCBldmVudExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IFtdKTtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5LmV2ZW50RGlzcGF0Y2hlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRlc1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudExpc3QuaW5kZXhPZihlbnRpdHkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LnB1c2goZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuICAgICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIFF1ZXJ5LnByb3RvdHlwZS5DT01QT05FTlRfQ0hBTkdFRCxcbiAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5pbmRleE9mKGNoYW5nZWRDb21wb25lbnQuY29uc3RydWN0b3IpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcganVzdCBzcGVjaWZpYyBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICBsZXQgY2hhbmdlZExpc3QgPSAodGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV1bZXZlbnROYW1lXSA9IHt9KTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9IChjaGFuZ2VkTGlzdFtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQubmFtZVxuICAgICAgICAgICAgICAgICAgICBdID0gW10pO1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5ldmVudERpc3BhdGNoZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICBRdWVyeS5wcm90b3R5cGUuQ09NUE9ORU5UX0NIQU5HRUQsXG4gICAgICAgICAgICAgICAgICAgICAgKGVudGl0eSwgY2hhbmdlZENvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkQ29tcG9uZW50LmNvbnN0cnVjdG9yID09PSBjb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0LmluZGV4T2YoZW50aXR5KSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3QucHVzaChlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdCA9ICh0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXVtldmVudE5hbWVdID0gW10pO1xuXG4gICAgICAgICAgICAgICAgcXVlcnkuZXZlbnREaXNwYXRjaGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICBldmVudE1hcHBpbmdbZXZlbnROYW1lXSxcbiAgICAgICAgICAgICAgICAgIGVudGl0eSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEBmaXhtZSBvdmVyaGVhZD9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdC5pbmRleE9mKGVudGl0eSkgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdC5wdXNoKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmV4ZWN1dGVUaW1lID0gMDtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEBxdWVzdGlvbiByZW5hbWUgdG8gY2xlYXIgcXVldWVzP1xuICBjbGVhckV2ZW50cygpIHtcbiAgICBmb3IgKGxldCBxdWVyeU5hbWUgaW4gdGhpcy5xdWVyaWVzKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJpZXNbcXVlcnlOYW1lXTtcbiAgICAgIGlmIChxdWVyeS5hZGRlZCkge1xuICAgICAgICBxdWVyeS5hZGRlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LnJlbW92ZWQpIHtcbiAgICAgICAgcXVlcnkucmVtb3ZlZC5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXJ5LmNoYW5nZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocXVlcnkuY2hhbmdlZCkpIHtcbiAgICAgICAgICBxdWVyeS5jaGFuZ2VkLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBxdWVyeS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICBxdWVyeS5jaGFuZ2VkW25hbWVdLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge1xuICAgICAgbmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgZW5hYmxlZDogdGhpcy5lbmFibGVkLFxuICAgICAgZXhlY3V0ZVRpbWU6IHRoaXMuZXhlY3V0ZVRpbWUsXG4gICAgICBwcmlvcml0eTogdGhpcy5wcmlvcml0eSxcbiAgICAgIHF1ZXJpZXM6IHt9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnF1ZXJpZXMpIHtcbiAgICAgIHZhciBxdWVyaWVzID0gdGhpcy5jb25zdHJ1Y3Rvci5xdWVyaWVzO1xuICAgICAgZm9yIChsZXQgcXVlcnlOYW1lIGluIHF1ZXJpZXMpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBxdWVyeURlZmluaXRpb24gPSBxdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIGxldCBqc29uUXVlcnkgPSAoanNvbi5xdWVyaWVzW3F1ZXJ5TmFtZV0gPSB7XG4gICAgICAgICAga2V5OiB0aGlzLl9xdWVyaWVzW3F1ZXJ5TmFtZV0ua2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGpzb25RdWVyeS5tYW5kYXRvcnkgPSBxdWVyeURlZmluaXRpb24ubWFuZGF0b3J5ID09PSB0cnVlO1xuICAgICAgICBqc29uUXVlcnkucmVhY3RpdmUgPVxuICAgICAgICAgIHF1ZXJ5RGVmaW5pdGlvbi5saXN0ZW4gJiZcbiAgICAgICAgICAocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5hZGRlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgcXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5yZW1vdmVkID09PSB0cnVlIHx8XG4gICAgICAgICAgICBxdWVyeURlZmluaXRpb24ubGlzdGVuLmNoYW5nZWQgPT09IHRydWUgfHxcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkocXVlcnlEZWZpbml0aW9uLmxpc3Rlbi5jaGFuZ2VkKSk7XG5cbiAgICAgICAgaWYgKGpzb25RdWVyeS5yZWFjdGl2ZSkge1xuICAgICAgICAgIGpzb25RdWVyeS5saXN0ZW4gPSB7fTtcblxuICAgICAgICAgIGNvbnN0IG1ldGhvZHMgPSBbXCJhZGRlZFwiLCBcInJlbW92ZWRcIiwgXCJjaGFuZ2VkXCJdO1xuICAgICAgICAgIG1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICAgICAgaWYgKHF1ZXJ5W21ldGhvZF0pIHtcbiAgICAgICAgICAgICAganNvblF1ZXJ5Lmxpc3RlblttZXRob2RdID0ge1xuICAgICAgICAgICAgICAgIGVudGl0aWVzOiBxdWVyeVttZXRob2RdLmxlbmd0aFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdChDb21wb25lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBvcGVyYXRvcjogXCJub3RcIixcbiAgICBDb21wb25lbnQ6IENvbXBvbmVudFxuICB9O1xufVxuIiwiLy8gVE9ETzogVGhlIGRlZmF1bHQgY2xvbmUgYW5kIGNvcHkgY2FuIGJlIG1hZGUgZmFzdGVyIGJ5XG4vLyBnZW5lcmF0aW5nIGNsb25lL2NvcHkgZnVuY3Rpb25zIGF0IENvbXBvbmVudCByZWdpc3RyYXRpb24gdGltZVxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gdGhpcy5jb25zdHJ1Y3Rvci5zY2hlbWE7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIGNvbnN0IHNjaGVtYVByb3AgPSBzY2hlbWFba2V5XTtcblxuICAgICAgaWYgKHByb3BzICYmIHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdGhpc1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoc2NoZW1hUHJvcC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRcIikpIHtcbiAgICAgICAgdGhpc1trZXldID0gc2NoZW1hUHJvcC50eXBlLmNsb25lKHNjaGVtYVByb3AuZGVmYXVsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0eXBlID0gc2NoZW1hUHJvcC50eXBlO1xuICAgICAgICB0aGlzW2tleV0gPSB0eXBlLmNsb25lKHR5cGUuZGVmYXVsdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fcG9vbCA9IG51bGw7XG4gIH1cblxuICBjb3B5KHNvdXJjZSkge1xuICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuY29uc3RydWN0b3Iuc2NoZW1hO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoc2NoZW1hLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IHNjaGVtYVtrZXldO1xuICAgICAgICBwcm9wLnR5cGUuY29weShzb3VyY2UsIHRoaXMsIGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fcG9vbCkge1xuICAgICAgdGhpcy5fcG9vbC5yZWxlYXNlKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5Db21wb25lbnQuc2NoZW1hID0ge307XG5Db21wb25lbnQuaXNDb21wb25lbnQgPSB0cnVlO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBTeXN0ZW1TdGF0ZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaXNTeXN0ZW1TdGF0ZUNvbXBvbmVudCA9IHRydWU7XG4gIH1cbn1cblxuU3lzdGVtU3RhdGVDb21wb25lbnQuaXNTeXN0ZW1TdGF0ZUNvbXBvbmVudCA9IHRydWU7XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9Db21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIFRhZ0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pc1RhZ0NvbXBvbmVudCA9IHRydWU7XG4gIH1cbn1cblxuVGFnQ29tcG9uZW50LmlzVGFnQ29tcG9uZW50ID0gdHJ1ZTtcbiIsImV4cG9ydCBjb25zdCBjb3B5VmFsdWUgPSAoc3JjLCBkZXN0LCBrZXkpID0+IChkZXN0W2tleV0gPSBzcmNba2V5XSk7XG5cbmV4cG9ydCBjb25zdCBjbG9uZVZhbHVlID0gc3JjID0+IHNyYztcblxuZXhwb3J0IGNvbnN0IGNvcHlBcnJheSA9IChzcmMsIGRlc3QsIGtleSkgPT4ge1xuICBjb25zdCBzcmNBcnJheSA9IHNyY1trZXldO1xuICBjb25zdCBkZXN0QXJyYXkgPSBkZXN0W2tleV07XG5cbiAgZGVzdEFycmF5Lmxlbmd0aCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGRlc3RBcnJheS5wdXNoKHNyY0FycmF5W2ldKTtcbiAgfVxuXG4gIHJldHVybiBkZXN0QXJyYXk7XG59O1xuXG5leHBvcnQgY29uc3QgY2xvbmVBcnJheSA9IHNyYyA9PiBzcmMuc2xpY2UoKTtcblxuZXhwb3J0IGNvbnN0IGNvcHlKU09OID0gKHNyYywgZGVzdCwga2V5KSA9PlxuICAoZGVzdFtrZXldID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzcmNba2V5XSkpKTtcblxuZXhwb3J0IGNvbnN0IGNsb25lSlNPTiA9IHNyYyA9PiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNyYykpO1xuXG5leHBvcnQgY29uc3QgY29weUNvcHlhYmxlID0gKHNyYywgZGVzdCwga2V5KSA9PiBkZXN0W2tleV0uY29weShzcmNba2V5XSk7XG5cbmV4cG9ydCBjb25zdCBjbG9uZUNsb25hYmxlID0gc3JjID0+IHNyYy5jbG9uZSgpO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVHlwZSA9IChkZWZhdWx0VmFsdWUsIGNsb25lLCBjb3B5KSA9PiAoe1xuICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gIGNsb25lLFxuICBjb3B5XG59KTtcblxuZXhwb3J0IGNvbnN0IFByb3BUeXBlcyA9IHtcbiAgTnVtYmVyOiB7IGRlZmF1bHQ6IDAsIGNsb25lOiBjbG9uZVZhbHVlLCBjb3B5OiBjb3B5VmFsdWUgfSxcbiAgQm9vbGVhbjogeyBkZWZhdWx0OiBmYWxzZSwgY2xvbmU6IGNsb25lVmFsdWUsIGNvcHk6IGNvcHlWYWx1ZSB9LFxuICBTdHJpbmc6IHsgZGVmYXVsdDogXCJcIiwgY2xvbmU6IGNsb25lVmFsdWUsIGNvcHk6IGNvcHlWYWx1ZSB9LFxuICBPYmplY3Q6IHsgZGVmYXVsdDogdW5kZWZpbmVkLCBjbG9uZTogY2xvbmVWYWx1ZSwgY29weTogY29weVZhbHVlIH0sXG4gIEFycmF5OiB7IGRlZmF1bHQ6IFtdLCBjbG9uZTogY2xvbmVBcnJheSwgY29weTogY29weUFycmF5IH0sXG4gIEpTT046IHsgZGVmYXVsdDogbnVsbCwgY2xvbmU6IGNsb25lSlNPTiwgY29weTogY29weUpTT04gfVxufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlkKGxlbmd0aCkge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgdmFyIGNoYXJhY3RlcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OVwiO1xuICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0U2NyaXB0KHNyYywgb25Mb2FkKSB7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAvLyBAdG9kbyBVc2UgbGluayB0byB0aGUgZWNzeS1kZXZ0b29scyByZXBvP1xuICBzY3JpcHQuc3JjID0gc3JjO1xuICBzY3JpcHQub25sb2FkID0gb25Mb2FkO1xuICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG4iLCIvKiBnbG9iYWwgUGVlciAqL1xuaW1wb3J0IHsgaW5qZWN0U2NyaXB0LCBnZW5lcmF0ZUlkIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcblxuZnVuY3Rpb24gaG9va0NvbnNvbGVBbmRFcnJvcnMoY29ubmVjdGlvbikge1xuICB2YXIgd3JhcEZ1bmN0aW9ucyA9IFtcImVycm9yXCIsIFwid2FybmluZ1wiLCBcImxvZ1wiXTtcbiAgd3JhcEZ1bmN0aW9ucy5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlW2tleV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdmFyIGZuID0gY29uc29sZVtrZXldLmJpbmQoY29uc29sZSk7XG4gICAgICBjb25zb2xlW2tleV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25uZWN0aW9uLnNlbmQoe1xuICAgICAgICAgIG1ldGhvZDogXCJjb25zb2xlXCIsXG4gICAgICAgICAgdHlwZToga2V5LFxuICAgICAgICAgIGFyZ3M6IEpTT04uc3RyaW5naWZ5KGFyZ3MpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnJvciA9PiB7XG4gICAgY29ubmVjdGlvbi5zZW5kKHtcbiAgICAgIG1ldGhvZDogXCJlcnJvclwiLFxuICAgICAgZXJyb3I6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3IuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGVycm9yLmVycm9yLnN0YWNrXG4gICAgICB9KVxuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZVJlbW90ZUlkSFRNTChyZW1vdGVJZCkge1xuICBsZXQgaW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGluZm9EaXYuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gICAgY29sb3I6ICNhYWE7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbDtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICAgIGhlaWdodDogNDBweDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBsZWZ0OiAwO1xuICAgIG9wYWNpdHk6IDAuOTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHRvcDogMDtcbiAgYDtcblxuICBpbmZvRGl2LmlubmVySFRNTCA9IGBPcGVuIEVDU1kgZGV2dG9vbHMgdG8gY29ubmVjdCB0byB0aGlzIHBhZ2UgdXNpbmcgdGhlIGNvZGU6Jm5ic3A7PGIgc3R5bGU9XCJjb2xvcjogI2ZmZlwiPiR7cmVtb3RlSWR9PC9iPiZuYnNwOzxidXR0b24gb25DbGljaz1cImdlbmVyYXRlTmV3Q29kZSgpXCI+R2VuZXJhdGUgbmV3IGNvZGU8L2J1dHRvbj5gO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluZm9EaXYpO1xuXG4gIHJldHVybiBpbmZvRGl2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUmVtb3RlRGV2dG9vbHMocmVtb3RlSWQpIHtcbiAgd2luZG93LmdlbmVyYXRlTmV3Q29kZSA9ICgpID0+IHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgcmVtb3RlSWQgPSBnZW5lcmF0ZUlkKDYpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImVjc3lSZW1vdGVJZFwiLCByZW1vdGVJZCk7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZChmYWxzZSk7XG4gIH07XG5cbiAgcmVtb3RlSWQgPSByZW1vdGVJZCB8fCB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJlY3N5UmVtb3RlSWRcIik7XG4gIGlmICghcmVtb3RlSWQpIHtcbiAgICByZW1vdGVJZCA9IGdlbmVyYXRlSWQoNik7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZWNzeVJlbW90ZUlkXCIsIHJlbW90ZUlkKTtcbiAgfVxuXG4gIGxldCBpbmZvRGl2ID0gaW5jbHVkZVJlbW90ZUlkSFRNTChyZW1vdGVJZCk7XG5cbiAgd2luZG93Ll9fRUNTWV9SRU1PVEVfREVWVE9PTFNfSU5KRUNURUQgPSB0cnVlO1xuICB3aW5kb3cuX19FQ1NZX1JFTU9URV9ERVZUT09MUyA9IHt9O1xuXG4gIGxldCBWZXJzaW9uID0gXCJcIjtcblxuICAvLyBUaGlzIGlzIHVzZWQgdG8gY29sbGVjdCB0aGUgd29ybGRzIGNyZWF0ZWQgYmVmb3JlIHRoZSBjb21tdW5pY2F0aW9uIGlzIGJlaW5nIGVzdGFibGlzaGVkXG4gIGxldCB3b3JsZHNCZWZvcmVMb2FkaW5nID0gW107XG4gIGxldCBvbldvcmxkQ3JlYXRlZCA9IGUgPT4ge1xuICAgIHZhciB3b3JsZCA9IGUuZGV0YWlsLndvcmxkO1xuICAgIFZlcnNpb24gPSBlLmRldGFpbC52ZXJzaW9uO1xuICAgIHdvcmxkc0JlZm9yZUxvYWRpbmcucHVzaCh3b3JsZCk7XG4gIH07XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZWNzeS13b3JsZC1jcmVhdGVkXCIsIG9uV29ybGRDcmVhdGVkKTtcblxuICBsZXQgb25Mb2FkZWQgPSAoKSA9PiB7XG4gICAgdmFyIHBlZXIgPSBuZXcgUGVlcihyZW1vdGVJZCk7XG4gICAgcGVlci5vbihcIm9wZW5cIiwgKC8qIGlkICovKSA9PiB7XG4gICAgICBwZWVyLm9uKFwiY29ubmVjdGlvblwiLCBjb25uZWN0aW9uID0+IHtcbiAgICAgICAgd2luZG93Ll9fRUNTWV9SRU1PVEVfREVWVE9PTFMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgICAgIGNvbm5lY3Rpb24ub24oXCJvcGVuXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIGluZm9EaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgaW5mb0Rpdi5pbm5lckhUTUwgPSBcIkNvbm5lY3RlZFwiO1xuXG4gICAgICAgICAgLy8gUmVjZWl2ZSBtZXNzYWdlc1xuICAgICAgICAgIGNvbm5lY3Rpb24ub24oXCJkYXRhXCIsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IFwiaW5pdFwiKSB7XG4gICAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvamF2YXNjcmlwdFwiKTtcbiAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gT25jZSB0aGUgc2NyaXB0IGlzIGluamVjdGVkIHdlIGRvbid0IG5lZWQgdG8gbGlzdGVuXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICBcImVjc3ktd29ybGQtY3JlYXRlZFwiLFxuICAgICAgICAgICAgICAgICAgb25Xb3JsZENyZWF0ZWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdvcmxkc0JlZm9yZUxvYWRpbmcuZm9yRWFjaCh3b3JsZCA9PiB7XG4gICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJlY3N5LXdvcmxkLWNyZWF0ZWRcIiwge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHsgd29ybGQ6IHdvcmxkLCB2ZXJzaW9uOiBWZXJzaW9uIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBzY3JpcHQuaW5uZXJIVE1MID0gZGF0YS5zY3JpcHQ7XG4gICAgICAgICAgICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgc2NyaXB0Lm9ubG9hZCgpO1xuXG4gICAgICAgICAgICAgIGhvb2tDb25zb2xlQW5kRXJyb3JzKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IFwiZXhlY3V0ZVNjcmlwdFwiKSB7XG4gICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGV2YWwoZGF0YS5zY3JpcHQpO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5yZXR1cm5FdmFsKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZW5kKHtcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJldmFsUmV0dXJuXCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEluamVjdCBQZWVySlMgc2NyaXB0XG4gIGluamVjdFNjcmlwdChcbiAgICBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vcGVlcmpzQDAuMy4yMC9kaXN0L3BlZXIubWluLmpzXCIsXG4gICAgb25Mb2FkZWRcbiAgKTtcbn1cblxuY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcblxuLy8gQHRvZG8gUHJvdmlkZSBhIHdheSB0byBkaXNhYmxlIGl0IGlmIG5lZWRlZFxuaWYgKHVybFBhcmFtcy5oYXMoXCJlbmFibGUtcmVtb3RlLWRldnRvb2xzXCIpKSB7XG4gIGVuYWJsZVJlbW90ZURldnRvb2xzKCk7XG59XG4iXSwibmFtZXMiOlsiU3lzdGVtTWFuYWdlciIsIltvYmplY3QgT2JqZWN0XSIsIndvcmxkIiwidGhpcyIsIl9zeXN0ZW1zIiwiX2V4ZWN1dGVTeXN0ZW1zIiwibGFzdEV4ZWN1dGVkU3lzdGVtIiwiU3lzdGVtIiwiYXR0cmlidXRlcyIsInVuZGVmaW5lZCIsImZpbmQiLCJzIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiY29uc29sZSIsIndhcm4iLCJzeXN0ZW0iLCJpbml0Iiwib3JkZXIiLCJsZW5ndGgiLCJwdXNoIiwiZXhlY3V0ZSIsInNvcnRTeXN0ZW1zIiwic29ydCIsImEiLCJiIiwicHJpb3JpdHkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkZWx0YSIsInRpbWUiLCJpbml0aWFsaXplZCIsImNhbkV4ZWN1dGUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImV4ZWN1dGVUaW1lIiwiY2xlYXJFdmVudHMiLCJmb3JFYWNoIiwic3RvcCIsImZvcmNlUGxheSIsImVuYWJsZWQiLCJleGVjdXRlU3lzdGVtIiwic3RhdHMiLCJudW1TeXN0ZW1zIiwic3lzdGVtcyIsImkiLCJzeXN0ZW1TdGF0cyIsInF1ZXJpZXMiLCJjdHgiLCJWZXJzaW9uIiwiRXZlbnREaXNwYXRjaGVyIiwiX2xpc3RlbmVycyIsImZpcmVkIiwiaGFuZGxlZCIsImV2ZW50TmFtZSIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwibGlzdGVuZXJBcnJheSIsImVudGl0eSIsImNvbXBvbmVudCIsImFycmF5Iiwic2xpY2UiLCJjYWxsIiwicXVlcnlLZXkiLCJDb21wb25lbnRzIiwibmFtZXMiLCJuIiwiVCIsIm9wZXJhdG9yIiwiQ29tcG9uZW50Iiwiam9pbiIsIl9sdXQiLCJ0b1N0cmluZyIsImdlbmVyYXRlVVVJRCIsImQwIiwiTWF0aCIsInJhbmRvbSIsImQxIiwiZDIiLCJkMyIsInRvVXBwZXJDYXNlIiwiUXVlcnkiLCJOb3RDb21wb25lbnRzIiwiRXJyb3IiLCJlbnRpdGllcyIsImV2ZW50RGlzcGF0Y2hlciIsInJlYWN0aXZlIiwia2V5IiwibWF0Y2giLCJkaXNwYXRjaEV2ZW50IiwicHJvdG90eXBlIiwiRU5USVRZX0FEREVEIiwiRU5USVRZX1JFTU9WRUQiLCJoYXNBbGxDb21wb25lbnRzIiwiaGFzQW55Q29tcG9uZW50cyIsImNvbXBvbmVudHMiLCJpbmNsdWRlZCIsIm1hcCIsIkMiLCJub3QiLCJudW1FbnRpdGllcyIsIm51bUNvbXBvbmVudHMiLCJDT01QT05FTlRfQ0hBTkdFRCIsInByb3h5TWFwIiwiV2Vha01hcCIsInByb3h5SGFuZGxlciIsInRhcmdldCIsInByb3AiLCJTdHJpbmciLCJ3cmFwSW1tdXRhYmxlQ29tcG9uZW50Iiwid3JhcHBlZENvbXBvbmVudCIsImdldCIsIlByb3h5Iiwic2V0IiwiRW50aXR5IiwidXVpZCIsImNvbXBvbmVudFR5cGVzIiwiX2NvbXBvbmVudHNUb1JlbW92ZSIsIl9jb21wb25lbnRUeXBlc1RvUmVtb3ZlIiwiYWxpdmUiLCJfbnVtU3lzdGVtU3RhdGVDb21wb25lbnRzIiwiaW5jbHVkZVJlbW92ZWQiLCJxdWVyeSIsInByb3BzIiwiaXNTeXN0ZW1TdGF0ZUNvbXBvbmVudCIsImNvbXBvbmVudFBvb2wiLCJnZXRDb21wb25lbnRQb29sIiwiYWNxdWlyZSIsImNvcHkiLCJvbkNvbXBvbmVudEFkZGVkIiwiaGFzUmVtb3ZlZENvbXBvbmVudCIsImhhc0NvbXBvbmVudCIsImltbWVkaWF0ZWx5IiwiY29tcG9uZW50TmFtZSIsIm9uUmVtb3ZlQ29tcG9uZW50IiwiZGlzcG9zZSIsInF1ZXVlQ29tcG9uZW50UmVtb3ZhbCIsInBvcCIsInJlbW92ZUNvbXBvbmVudCIsImoiLCJzb3VyY2UiLCJzb3VyY2VDb21wb25lbnQiLCJjbG9uZSIsIm9uRGlzcG9zZUVudGl0eSIsInJlbW92ZUVudGl0eSIsIl9wb29sIiwicmVsZWFzZSIsIm9uRW50aXR5RGlzcG9zZWQiLCJxdWV1ZUVudGl0eURpc3Bvc2FsIiwiT2JqZWN0UG9vbCIsImJhc2VPYmplY3QiLCJpbml0aWFsU2l6ZSIsImZyZWVMaXN0IiwiY291bnQiLCJpc09iamVjdFBvb2wiLCJleHBhbmQiLCJyb3VuZCIsIml0ZW0iLCJXb3JsZCIsInN5c3RlbU1hbmFnZXIiLCJlbnRpdHlQb29sIiwiZW50aXRpZXNCeVVVSUQiLCJlbnRpdGllc1dpdGhDb21wb25lbnRzVG9SZW1vdmUiLCJlbnRpdGllc1RvUmVtb3ZlIiwiZGVmZXJyZWRSZW1vdmFsRW5hYmxlZCIsImNvbXBvbmVudFBvb2xzIiwiY29tcG9uZW50Q291bnRzIiwiQ3VzdG9tRXZlbnQiLCJldmVudCIsImRldGFpbCIsInZlcnNpb24iLCJ3aW5kb3ciLCJsYXN0VGltZSIsImlzV29ybGQiLCJvYmplY3RQb29sIiwicmVnaXN0ZXJTeXN0ZW0iLCJjcmVhdGVEZXRhY2hlZEVudGl0eSIsImFkZEVudGl0eSIsIlN5c3RlbUNsYXNzIiwiZ2V0U3lzdGVtIiwiZ2V0U3lzdGVtcyIsInF1ZXJ5TmFtZSIsInByb2Nlc3NSZW1vdmVkQ29tcG9uZW50cyIsIm51bVF1ZXJpZXMiLCJPYmplY3QiLCJrZXlzIiwibnVtQ29tcG9uZW50UG9vbCIsInBvb2wiLCJ1c2VkIiwidG90YWxVc2VkIiwic2l6ZSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJfbWFuZGF0b3J5UXVlcmllcyIsIl9xdWVyaWVzIiwicXVlcnlDb25maWciLCJnZXRRdWVyeSIsIm1hbmRhdG9yeSIsInJlc3VsdHMiLCJldmVudE1hcHBpbmciLCJhZGRlZCIsInJlbW92ZWQiLCJjaGFuZ2VkIiwibGlzdGVuIiwiZXZlbnRMaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFycmF5IiwiaXNBcnJheSIsImNoYW5nZWRDb21wb25lbnQiLCJqc29uIiwicXVlcnlEZWZpbml0aW9uIiwianNvblF1ZXJ5IiwibWV0aG9kIiwiTm90Iiwic2NoZW1hIiwic2NoZW1hUHJvcCIsImhhc093blByb3BlcnR5IiwidHlwZSIsImRlZmF1bHQiLCJpc0NvbXBvbmVudCIsIlN5c3RlbVN0YXRlQ29tcG9uZW50Iiwic3VwZXIiLCJUYWdDb21wb25lbnQiLCJpc1RhZ0NvbXBvbmVudCIsImNvcHlWYWx1ZSIsInNyYyIsImRlc3QiLCJjbG9uZVZhbHVlIiwiY29weUFycmF5Iiwic3JjQXJyYXkiLCJkZXN0QXJyYXkiLCJjbG9uZUFycmF5IiwiY29weUpTT04iLCJwYXJzZSIsImNsb25lSlNPTiIsImNvcHlDb3B5YWJsZSIsImNsb25lQ2xvbmFibGUiLCJjcmVhdGVUeXBlIiwiZGVmYXVsdFZhbHVlIiwiUHJvcFR5cGVzIiwiTnVtYmVyIiwiQm9vbGVhbiIsImdlbmVyYXRlSWQiLCJyZXN1bHQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsImNoYXJBdCIsImZsb29yIiwiaW5qZWN0U2NyaXB0Iiwib25Mb2FkIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib25sb2FkIiwiaGVhZCIsImRvY3VtZW50RWxlbWVudCIsImFwcGVuZENoaWxkIiwiaG9va0NvbnNvbGVBbmRFcnJvcnMiLCJjb25uZWN0aW9uIiwiZm4iLCJiaW5kIiwiYXJncyIsInNlbmQiLCJhcHBseSIsImVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwiaW5jbHVkZVJlbW90ZUlkSFRNTCIsInJlbW90ZUlkIiwiaW5mb0RpdiIsInN0eWxlIiwiY3NzVGV4dCIsImlubmVySFRNTCIsImJvZHkiLCJlbmFibGVSZW1vdGVEZXZ0b29scyIsImdlbmVyYXRlTmV3Q29kZSIsImxvY2FsU3RvcmFnZSIsImNsZWFyIiwic2V0SXRlbSIsImxvY2F0aW9uIiwicmVsb2FkIiwiZ2V0SXRlbSIsIl9fRUNTWV9SRU1PVEVfREVWVE9PTFNfSU5KRUNURUQiLCJfX0VDU1lfUkVNT1RFX0RFVlRPT0xTIiwid29ybGRzQmVmb3JlTG9hZGluZyIsIm9uV29ybGRDcmVhdGVkIiwiZSIsIm9uTG9hZGVkIiwicGVlciIsIlBlZXIiLCJvbiIsImRhdGEiLCJzZXRBdHRyaWJ1dGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmFsdWUiLCJldmFsIiwicmV0dXJuRXZhbCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImhhcyJdLCJtYXBwaW5ncyI6Im9SQUFPLE1BQU1BLGNBQ1hDLFlBQVlDLEdBQ1ZDLEtBQUtDLFNBQVcsR0FDaEJELEtBQUtFLGdCQUFrQixHQUN2QkYsS0FBS0QsTUFBUUEsRUFDYkMsS0FBS0csbUJBQXFCLEtBRzVCTCxlQUFlTSxFQUFRQyxHQUNyQixRQUNrRUMsSUFBaEVOLEtBQUtDLFNBQVNNLEtBQUtDLEdBQUtBLEVBQUVDLFlBQVlDLE9BQVNOLEVBQU9NLE1BR3RELE9BREFDLFFBQVFDLEtBQUssV0FBV1IsRUFBT00sNkJBQ3hCVixLQUdULElBQUlhLEVBQVMsSUFBSVQsRUFBT0osS0FBS0QsTUFBT00sR0FRcEMsT0FQSVEsRUFBT0MsTUFBTUQsRUFBT0MsT0FDeEJELEVBQU9FLE1BQVFmLEtBQUtDLFNBQVNlLE9BQzdCaEIsS0FBS0MsU0FBU2dCLEtBQUtKLEdBQ2ZBLEVBQU9LLFVBQ1RsQixLQUFLRSxnQkFBZ0JlLEtBQUtKLEdBQzFCYixLQUFLbUIsZUFFQW5CLEtBR1RGLGNBQ0VFLEtBQUtFLGdCQUFnQmtCLEtBQUssQ0FBQ0MsRUFBR0MsSUFDckJELEVBQUVFLFNBQVdELEVBQUVDLFVBQVlGLEVBQUVOLE1BQVFPLEVBQUVQLE9BSWxEakIsVUFBVU0sR0FDUixPQUFPSixLQUFLQyxTQUFTTSxLQUFLQyxHQUFLQSxhQUFhSixHQUc5Q04sYUFDRSxPQUFPRSxLQUFLQyxTQUdkSCxhQUFhTSxHQUNYLElBQUlvQixFQUFReEIsS0FBS0MsU0FBU3dCLFFBQVFyQixJQUM1Qm9CLEdBRU54QixLQUFLQyxTQUFTeUIsT0FBT0YsRUFBTyxHQUc5QjFCLGNBQWNlLEVBQVFjLEVBQU9DLEdBQzNCLEdBQUlmLEVBQU9nQixhQUNMaEIsRUFBT2lCLGFBQWMsQ0FDdkIsSUFBSUMs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
